import{e as p,y as m,E as de,w as De,n as O,ab as Re,al as Ie,a4 as R,aA as J,M as ye,b as ne,ad as Je,dS as Fe,ac as F,af as j,_ as _e,aZ as Ce,a_ as me,dT as ke,cz as N,dU as Ue,dV as Ae,dW as qe,dX as fe,r as z,dY as ze,v as Be,dZ as We,d_ as B,bo as Ke,dp as Ze,d$ as se,b1 as K,c as _,ai as Qe,aq as Le,a as Ye,a7 as He,a9 as Xe,e0 as et,e1 as tt,ag as rt}from"./index.3224a022.js";import{a as Oe}from"./GPMessage.b587c34f.js";import{o as at}from"./floorFilterUtils.05eb8c6a.js";import $e from"./PrintTemplate.55fcab83.js";let I=class extends Ie{constructor(){super(...arguments),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}};p([m({type:de})],I.prototype,"outSpatialReference",void 0),p([m({type:De})],I.prototype,"processExtent",void 0),p([m({type:de})],I.prototype,"processSpatialReference",void 0),p([m({nonNullable:!0})],I.prototype,"returnFeatureCollection",void 0),p([m({nonNullable:!0})],I.prototype,"returnM",void 0),p([m({nonNullable:!0})],I.prototype,"returnZ",void 0),I=p([O("esri.rest.geoprocessor.GPOptions")],I),I.from=Re(I);const ce=I;let L=class extends R{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};p([m({type:De})],L.prototype,"extent",void 0),p([m()],L.prototype,"height",void 0),p([m()],L.prototype,"href",void 0),p([m()],L.prototype,"opacity",void 0),p([m()],L.prototype,"rotation",void 0),p([m()],L.prototype,"scale",void 0),p([m()],L.prototype,"visible",void 0),p([m()],L.prototype,"width",void 0),L=p([O("esri.layer.support.MapImage")],L);const he=L;let U=class extends R{constructor(e){super(e),this.itemId=null,this.url=null}};p([m({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],U.prototype,"itemId",void 0),p([m({type:String,json:{write:!0}})],U.prototype,"url",void 0),U=p([O("esri.rest.support.DataFile")],U);const ae=U,ge=new J({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1});let A=class extends R{constructor(e){super(e),this.distance=0,this.units=null}};p([m({json:{write:!0}})],A.prototype,"distance",void 0),p([m({json:{read:ge.read,write:ge.write}})],A.prototype,"units",void 0),A=p([O("esri.rest.support.LinearUnit")],A);const be=A,ve=new J({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"});let q=class extends R{constructor(e){super(e),this.dataType=null,this.value=null}};p([m({json:{read:ve.read,write:ve.write}})],q.prototype,"dataType",void 0),p([m()],q.prototype,"value",void 0),q=p([O("esri.rest.support.ParameterValue")],q);const it=q;let C=class extends R{constructor(e){super(e),this.format=null,this.itemId=null,this.url=null}};p([m()],C.prototype,"format",void 0),p([m({json:{read:{source:"itemID"},write:{target:"itemID"}}})],C.prototype,"itemId",void 0),p([m()],C.prototype,"url",void 0),C=p([O("esri.rest.support.RasterData")],C);const we=C;async function Ge(e,i,t,r,a){const s={},o={},u=[];return nt(r,u,s),Fe(u).then(n=>{const{outSpatialReference:l,processExtent:y,processSpatialReference:d,returnFeatureCollection:f,returnM:v,returnZ:c}=t,{path:g}=F(e);for(const T in s){const D=s[T];o[T]=n.slice(D[0],D[1])}const w=l?l.wkid||l:null,x=d?d.wkid||d:null,h=i==="execute"?{returnFeatureCollection:f||void 0,returnM:v||void 0,returnZ:c||void 0}:null,b=X({...y?{context:{extent:y,outSR:w,processSR:x}}:{"env:outSR":w,"env:processSR":x},...r,...h,f:"json"},null,o),P={...a,query:b};return j(`${g}/${i}`,P)})}function nt(e,i,t){for(const r in e){const a=e[r];if(a&&typeof a=="object"&&a instanceof ne){const{features:s}=a;t[r]=[i.length,i.length+s.length],s.forEach(o=>{i.push(o.geometry)})}}}function oe(e){const i=e.dataType,t=it.fromJSON(e);switch(i){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return t;case"GPDate":t.value=new Date(t.value);break;case"GPDataFile":t.value=ae.fromJSON(t.value);break;case"GPLinearUnit":t.value=be.fromJSON(t.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":{const r=e.value.url;t.value=r?ae.fromJSON(t.value):ne.fromJSON(t.value);break}case"GPRasterData":case"GPRasterDataLayer":{const r=e.value.mapImage;t.value=r?he.fromJSON(r):we.fromJSON(t.value);break}case"GPField":t.value=ye.fromJSON(t.value);break;case"GPMultiValue:GPDate":{const r=t.value;t.value=r.map(a=>new Date(a));break}case"GPMultiValue:GPDataFile":t.value=t.value.map(r=>ae.fromJSON(r));break;case"GPMultiValue:GPLinearUnit":t.value=t.value.map(r=>be.fromJSON(r));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":t.value=t.value.map(r=>ne.fromJSON(r));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":t.value=t.value.map(r=>r?he.fromJSON(r):we.fromJSON(t.value));break;case"GPMultiValue:GPField":t.value=t.value.map(r=>ye.fromJSON(r))}return t}function X(e,i,t){for(const r in e){const a=e[r];Array.isArray(a)?e[r]=JSON.stringify(a.map(s=>X({item:s},!0).item)):a instanceof Date&&(e[r]=a.getTime())}return Je(e,i,t)}async function Ve(e,i,t,r){return t=ce.from(t||{}),Ge(e,"execute",t,i,r).then(a=>{const s=a.data.results||[],o=a.data.messages||[];return{results:s.map(oe),messages:o.map(u=>Oe.fromJSON(u))}})}var Z;const st=new J({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"});let M=Z=class extends R{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.requestOptions=null,this.sourceUrl=null,this._timer=null}cancelJob(e){const{jobId:i,sourceUrl:t}=this,{path:r}=F(t),a={...this.requestOptions,...e,query:{f:"json"}};return this._clearTimer(),j(`${r}/jobs/${i}/cancel`,a).then(s=>{const o=Z.fromJSON(s.data);return this.messages=o.messages,this.jobStatus=o.jobStatus,this})}destroy(){clearInterval(this._timer)}checkJobStatus(e){const{path:i}=F(this.sourceUrl),t={...this.requestOptions,...e,query:{f:"json"}},r=`${i}/jobs/${this.jobId}`;return j(r,t).then(({data:a})=>{const s=Z.fromJSON(a);return this.messages=s.messages,this.jobStatus=s.jobStatus,this})}fetchResultData(e,i,t){i=ce.from(i||{});const{returnFeatureCollection:r,returnM:a,returnZ:s,outSpatialReference:o}=i,{path:u}=F(this.sourceUrl),n=X({returnFeatureCollection:r,returnM:a,returnZ:s,outSR:o,returnType:"data",f:"json"},null),l={...this.requestOptions,...t,query:n},y=`${u}/jobs/${this.jobId}/results/${e}`;return j(y,l).then(d=>oe(d.data))}fetchResultImage(e,i,t){const{path:r}=F(this.sourceUrl),a={...i.toJSON(),f:"json"},s=X(a),o={...this.requestOptions,...t,query:s},u=`${r}/jobs/${this.jobId}/results/${e}`;return j(u,o).then(n=>oe(n.data))}async fetchResultMapImageLayer(){const{path:e}=F(this.sourceUrl),i=e.indexOf("/GPServer/"),t=`${e.substring(0,i)}/MapServer/jobs/${this.jobId}`;return new(await _e(()=>import("./MapImageLayer.4ca6a442.js"),["assets/MapImageLayer.4ca6a442.js","assets/index.3224a022.js","assets/index.29d59db5.css","assets/scaleUtils.cab68ced.js","assets/SublayersOwner.01101d02.js","assets/Version.b58f1bfe.js","assets/sublayerUtils.e57000ef.js","assets/ExportImageParameters.456c0a75.js","assets/floorFilterUtils.05eb8c6a.js"])).default({url:t})}async waitForJobCompletion(e={}){const{interval:i=1e3,signal:t,statusCallback:r}=e;return new Promise((a,s)=>{Ce(t,()=>{this._clearTimer(),s(me())}),this._clearTimer();const o=setInterval(()=>{this._timer||s(me()),this.checkJobStatus(this.requestOptions).then(u=>{const{jobStatus:n}=u;switch(this.jobStatus=n,n){case"job-succeeded":this._clearTimer(),a(this);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":r&&r(this);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":this._clearTimer(),s(this)}})},i);this._timer=o})}_clearTimer(){this._timer&&(clearInterval(this._timer),this._timer=null)}};p([m()],M.prototype,"jobId",void 0),p([m({json:{read:st.read}})],M.prototype,"jobStatus",void 0),p([m({type:[Oe]})],M.prototype,"messages",void 0),p([m()],M.prototype,"requestOptions",void 0),p([m({json:{write:!0}})],M.prototype,"sourceUrl",void 0),M=Z=p([O("esri.rest.support.JobInfo")],M);const ot=M;async function lt(e,i,t,r){return t=ce.from(t||{}),Ge(e,"submitJob",t,i,r).then(a=>{const s=ot.fromJSON(a.data);return s.sourceUrl=e,s})}const ee=new J({PDF:"pdf",PNG32:"png32",PNG8:"png8",JPG:"jpg",GIF:"gif",EPS:"eps",SVG:"svg",SVGZ:"svgz"}),le=ee.fromJSON.bind(ee),ut=ee.toJSON.bind(ee),te=new J({MAP_ONLY:"map-only","A3 Landscape":"a3-landscape","A3 Portrait":"a3-portrait","A4 Landscape":"a4-landscape","A4 Portrait":"a4-portrait","Letter ANSI A Landscape":"letter-ansi-a-landscape","Letter ANSI A Portrait":"letter-ansi-a-portrait","Tabloid ANSI B Landscape":"tabloid-ansi-b-landscape","Tabloid ANSI B Portrait":"tabloid-ansi-b-portrait"}),Q=te.fromJSON.bind(te),ct=te.toJSON.bind(te),ie="simple-marker",pt="picture-marker",Se="simple-line",dt="simple-fill",yt="shield-label-symbol",mt="text";function ft(e,i){const{graphic:t,renderer:r,symbol:a}=i,s=a.type;if(s===mt||s===yt||!("visualVariables"in r)||!r.visualVariables)return;const o=r.getVisualVariablesForType("size"),u=r.getVisualVariablesForType("color"),n=r.getVisualVariablesForType("opacity"),l=r.getVisualVariablesForType("rotation"),y=o[0],d=u[0],f=n[0],v=l[0];if(y){const c=s===ie?a.style:null,g=ke(y,t,{shape:c});g!=null&&(s===ie?e.size=N(g):s===pt?(e.width=N(g),e.height=N(g)):s===Se?e.width=N(g):e.outline&&(e.outline.width=N(g)))}if(d){const c=Ue(d,t);(c&&s===ie||s===Se||s===dt)&&(e.color=c?c.toJSON():void 0)}if(f){const c=Ae(f,t);c!=null&&e.color&&(e.color[3]=Math.round(255*c))}v&&(e.angle=-qe(r,t))}function ht(){return{layerDefinition:{name:"multipointLayer",geometryType:"esriGeometryMultipoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryMultipoint",features:[]}}}function gt(){return{layerDefinition:{name:"polygonLayer",geometryType:"esriGeometryPolygon",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolygon",features:[]}}}function xe(){return{layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}}}function bt(){return{layerDefinition:{name:"polylineLayer",geometryType:"esriGeometryPolyline",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolyline",features:[]}}}function vt(e,i=15){const t=e.canvas.width,r=e.canvas.height,a=e.getImageData(0,0,t,r).data;let s,o,u,n,l,y;e:for(o=r;o--;)for(s=t;s--;)if(a[4*(t*o+s)+3]>i){y=o;break e}if(!y)return null;e:for(s=t;s--;)for(o=y+1;o--;)if(a[4*(t*o+s)+3]>i){l=s;break e}e:for(s=0;s<=l;++s)for(o=y+1;o--;)if(a[4*(t*o+s)+3]>i){u=s;break e}e:for(o=0;o<=y;++o)for(s=u;s<=l;++s)if(a[4*(t*o+s)+3]>i){n=o;break e}return{x:u,y:n,width:l-u,height:y-n}}function wt(e,i){const t=e.allLayerViews.items;if(i===e.scale)return t.filter(a=>!a.suspended);const r=new Array;for(const a of t)Pt(a.parent)&&!r.includes(a.parent)||!a.visible||i&&"isVisibleAtScale"in a&&!a.isVisibleAtScale(i)||r.push(a);return r}function St(e){return(e==null?void 0:e.type)==="bing-maps"}function Me(e){return e&&"blendMode"in e&&"effect"in e}function xt(e){return(e==null?void 0:e.type)==="csv"}function Pt(e){return(e==null?void 0:e.declaredClass)==="esri.views.2d.layers.GroupLayerView2D"}function Tt(e){const i=e.layer;if(Me(i)){const t=i.blendMode;if((!t||t==="normal")&&(i.effect||"featureEffect"in e&&e.featureEffect))return!0}return!1}const Pe={Feet:"ft",Kilometers:"km",Meters:"m",Miles:"mi"},Te=new J({esriFeet:"Feet",esriKilometers:"Kilometers",esriMeters:"Meters",esriMiles:"Miles"}),Dt=new J({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"}),ue=new Map;async function It(e,i,t){const r=$t(e);let a=ue.get(r);return Promise.resolve().then(()=>a?{data:a.gpMetadata}:(a={gpServerUrl:r,is11xService:!1,legendLayerNameMap:{},legendLayers:[]},j(r,{query:{f:"json"}}))).then(s=>(a.gpMetadata=s.data,a.cimVersion=a.gpMetadata.cimVersion,a.is11xService=!!a.cimVersion,ue.set(r,a),Lt(i,a))).then(s=>{const o=Kt(a);let u;const n=l=>o==="sync"?l.results&&l.results[0]&&l.results[0].value:u.fetchResultData("Output_File",null,t).then(y=>y.value);return o==="async"?lt(e,s,null,t).then(l=>(u=l,l.waitForJobCompletion({interval:i.updateDelay}).then(n))):Ve(e,s,null,t).then(n)})}async function Lt(e,i){i=i||{is11xService:!1,legendLayerNameMap:{},legendLayers:[]};const t=e.template||new $e;t.showLabels==null&&(t.showLabels=!0);const r=t.exportOptions;let a;const s=ct(t.layout);if(r&&(a={dpi:r.dpi},s.toLowerCase()==="map_only"||s==="")){const d=r.width,f=r.height;a.outputSize=[d,f]}const o=t.layoutOptions;let u;if(o){let d,f;o.scalebarUnit==="Miles"||o.scalebarUnit==="Kilometers"?(d="Kilometers",f="Miles"):o.scalebarUnit!=="Meters"&&o.scalebarUnit!=="Feet"||(d="Meters",f="Feet"),u={titleText:o.titleText,authorText:o.authorText,copyrightText:o.copyrightText,customTextElements:o.customTextElements,elementOverrides:o.elementOverrides,scaleBarOptions:{metricUnit:Te.toJSON(d),metricLabel:Pe[d],nonMetricUnit:Te.toJSON(f),nonMetricLabel:Pe[f]}}}let n=null;o!=null&&o.legendLayers&&(n=o.legendLayers.map(d=>{i.legendLayerNameMap[d.layerId]=d.title;const f={id:d.layerId};return d.subLayerIds&&(f.subLayerIds=d.subLayerIds),f}));const l=await Ot(e,t,i);if(l.operationalLayers){const d=new RegExp("[\\u4E00-\\u9FFF\\u0E00-\\u0E7F\\u0900-\\u097F\\u3040-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF]"),f=/[\u0600-\u06FF]/,v=g=>{const w=g.text,x=g.font,h=x&&x.family&&x.family.toLowerCase();w&&x&&(h==="arial"||h==="arial unicode ms")&&(x.family=d.test(w)?"Arial Unicode MS":"Arial",x.style!=="normal"&&f.test(w)&&(x.family="Arial Unicode MS"))},c=()=>{throw new _("print:cim-symbol-unsupported","CIMSymbol is not supported by a print service published from ArcMap")};l.operationalLayers.forEach(g=>{var w,x,h;(w=g.featureCollection)!=null&&w.layers?g.featureCollection.layers.forEach(b=>{var P,T,D,pe;if((D=(T=(P=b.layerDefinition)==null?void 0:P.drawingInfo)==null?void 0:T.renderer)!=null&&D.symbol){const V=b.layerDefinition.drawingInfo.renderer;V.symbol.type==="esriTS"?v(V.symbol):V.symbol.type!=="CIMSymbolReference"||i.is11xService||c()}(pe=b.featureSet)!=null&&pe.features&&b.featureSet.features.forEach(V=>{V.symbol&&(V.symbol.type==="esriTS"?v(V.symbol):V.symbol.type!=="CIMSymbolReference"||i.is11xService||c())})}):!i.is11xService&&((h=(x=g.layerDefinition)==null?void 0:x.drawingInfo)==null?void 0:h.renderer)&&JSON.stringify(g.layerDefinition.drawingInfo.renderer).includes('"type":"CIMSymbolReference"')&&c()})}e.outSpatialReference&&(l.mapOptions.spatialReference=e.outSpatialReference.toJSON()),Object.assign(l,{exportOptions:a,layoutOptions:u||{}}),Object.assign(l.layoutOptions,{legendOptions:{operationalLayers:n!=null?n:i.legendLayers.slice()}}),i.legendLayers.length=0,ue.set(i.gpServerUrl,i);const y={Web_Map_as_JSON:JSON.stringify(l),Format:ut(t.format),Layout_Template:s,Layout_Item_ID:void 0};if(t.layoutItem){delete y.Layout_Template;const d=t.layoutItem;await d.load(),d.access!=="public"&&fe&&await fe.getCredential(i.gpServerUrl),y.Layout_Item_ID=JSON.stringify({id:d.id})}return e.extraParameters&&Object.assign(y,e.extraParameters),y}async function Ot(e,i,t){const r=e.view;let a=r.spatialReference;const s={operationalLayers:await Gt(r,i,t)};let o=t.ssExtent||e.extent||r.extent;if(a&&a.isWrappable&&(o=o.clone()._normalize(!0),a=o.spatialReference),s.mapOptions={extent:o&&o.toJSON(),spatialReference:a&&a.toJSON(),showAttribution:i.attributionVisible},t.ssExtent=null,r.background&&(s.background=r.background.toJSON()),r.rotation&&(s.mapOptions.rotation=-r.rotation),i.scalePreserved&&(s.mapOptions.scale=i.outScale||r.scale),z(r.timeExtent)){const u=z(r.timeExtent.start)?r.timeExtent.start.getTime():null,n=z(r.timeExtent.end)?r.timeExtent.end.getTime():null;s.mapOptions.time=[u,n]}return s}function $t(e){let i=e;const t=i.lastIndexOf("/GPServer/");return t>0&&(i=i.slice(0,t+9)),i}async function Gt(e,i,t){const r=[],a={layerView:null,printTemplate:i,view:e};let s=0;i.scalePreserved&&(s=i.outScale||e.scale);const o=wt(e,s);for(const u of o){const n=u.layer;if(!n.loaded||(n==null?void 0:n.type)==="group")continue;let l;a.layerView=u,l=Tt(u)?await k(n,a,t):St(n)?Vt(n):xt(n)?await Mt(n,a,t):(n==null?void 0:n.type)==="feature"?await Et(n,a,t):(n==null?void 0:n.type)==="geojson"?await jt(n,a,t):(n==null?void 0:n.type)==="graphics"?await Nt(n,a,t):(n==null?void 0:n.type)==="imagery"?Rt(n,t):(n==null?void 0:n.type)==="imagery-tile"?await Jt(n,a,t):(n==null?void 0:n.type)==="kml"?await Ft(n,a,t):(n==null?void 0:n.type)==="map-image"?_t(n,a,t):(n==null?void 0:n.type)==="map-notes"?await Ct(a,t):(n==null?void 0:n.type)==="open-street-map"?kt():(n==null?void 0:n.type)==="stream"?await Ut(n,a,t):(n==null?void 0:n.type)==="tile"?At(n,t):(n==null?void 0:n.type)==="vector-tile"?await qt(n,a,t):(n==null?void 0:n.type)==="web-tile"?zt(n):(n==null?void 0:n.type)==="wms"?Bt(n):(n==null?void 0:n.type)==="wmts"?Wt(n):await k(n,a,t),l&&(Array.isArray(l)?r.push(...l):(l.id=n.id,l.title=t.legendLayerNameMap[n.id]||n.title,l.opacity=n.opacity,l.minScale=n.minScale||0,l.maxScale=n.maxScale||0,Me(n)&&n.blendMode&&n.blendMode!=="normal"&&(l.blendMode=n.blendMode),r.push(l)))}if(s&&r.forEach(u=>{u.minScale=0,u.maxScale=0}),e.graphics&&e.graphics.length){const u=await G(null,e.graphics,i,t);u&&r.push(u)}return r}function Vt(e){return{culture:e.culture,key:e.key,type:"BingMaps"+(e.style==="aerial"?"Aerial":e.style==="hybrid"?"Hybrid":"Road")}}async function Mt(e,i,t){e.legendEnabled&&t.legendLayers.push({id:e.id});const r=i.layerView,a=i.printTemplate;let s;return!t.is11xService||r.filter?G(e,await re(r),a,t):(s={type:"CSV"},e.write(s,{origin:"web-map"}),delete s.popupInfo,delete s.layerType,s.showLabels=a.showLabels&&e.labelsVisible,s)}async function G(e,i,t,r){var w,x;let a;const s=gt(),o=bt(),u=xe(),n=ht(),l=xe();if(l.layerDefinition.name="textLayer",delete l.layerDefinition.drawingInfo,e){if(e.declaredClass==="esri.layers.FeatureLayer"||e.declaredClass==="esri.layers.StreamLayer"?s.layerDefinition.name=o.layerDefinition.name=u.layerDefinition.name=n.layerDefinition.name=r.legendLayerNameMap[e.id]||e.get("arcgisProps.title")||e.title:e.declaredClass==="esri.layers.GraphicsLayer"&&(i=e.graphics.items),e.renderer){const h=e.renderer.toJSON();s.layerDefinition.drawingInfo.renderer=h,o.layerDefinition.drawingInfo.renderer=h,u.layerDefinition.drawingInfo.renderer=h,n.layerDefinition.drawingInfo.renderer=h}if(t.showLabels&&e.labelsVisible&&typeof e.write=="function"){const h=(x=(w=e.write({},{origin:"web-map"}).layerDefinition)==null?void 0:w.drawingInfo)==null?void 0:x.labelingInfo;h&&(a=!0,s.layerDefinition.drawingInfo.labelingInfo=h,o.layerDefinition.drawingInfo.labelingInfo=h,u.layerDefinition.drawingInfo.labelingInfo=h,n.layerDefinition.drawingInfo.labelingInfo=h)}}let y;(e==null?void 0:e.renderer)||a||(delete s.layerDefinition.drawingInfo,delete o.layerDefinition.drawingInfo,delete u.layerDefinition.drawingInfo,delete n.layerDefinition.drawingInfo);const d=e==null?void 0:e.fieldsIndex,f=e==null?void 0:e.renderer;if(d){const h=new Set;a&&await ze(h,e),f&&typeof f.collectRequiredFields=="function"&&await f.collectRequiredFields(h,d),y=Array.from(h);const b=d.fields.map(P=>P.toJSON());s.layerDefinition.fields=b,o.layerDefinition.fields=b,u.layerDefinition.fields=b,n.layerDefinition.fields=b}const v=i&&i.length;let c;for(let h=0;h<v;h++){const b=i[h]||i.getItemAt(h);if(b.visible===!1||!b.geometry||(c=b.toJSON(),c.hasOwnProperty("popupTemplate")&&delete c.popupTemplate,c.geometry&&c.geometry.z&&delete c.geometry.z,c.symbol&&c.symbol.outline&&c.symbol.outline.type==="esriCLS"&&!r.is11xService))continue;!r.is11xService&&c.symbol&&c.symbol.outline&&c.symbol.outline.color&&c.symbol.outline.color[3]&&(c.symbol.outline.color[3]=255);const P=e&&e.renderer&&("valueExpression"in e.renderer&&e.renderer.valueExpression||"hasVisualVariables"in e.renderer&&e.renderer.hasVisualVariables());if(!c.symbol&&e&&e.renderer&&P&&!r.is11xService){const T=e.renderer,D=await T.getSymbolAsync(b);if(!D)continue;c.symbol=D.toJSON(),"hasVisualVariables"in T&&T.hasVisualVariables()&&ft(c.symbol,{renderer:T,graphic:b,symbol:D})}if(c.symbol&&(c.symbol.angle||delete c.symbol.angle,H(c.symbol)?c.symbol=await Y(c.symbol,r):c.symbol.text&&delete c.attributes),(!t||!t.forceFeatureAttributes)&&(y==null?void 0:y.length)){const T={};y.forEach(D=>{c.attributes&&c.attributes.hasOwnProperty(D)&&(T[D]=c.attributes[D])}),c.attributes=T}b.geometry.type==="polygon"?s.featureSet.features.push(c):b.geometry.type==="polyline"?o.featureSet.features.push(c):b.geometry.type==="point"?c.symbol&&c.symbol.text?l.featureSet.features.push(c):u.featureSet.features.push(c):b.geometry.type==="multipoint"?n.featureSet.features.push(c):b.geometry.type==="extent"&&(c.geometry=Be.fromExtent(b.geometry).toJSON(),s.featureSet.features.push(c))}const g=[s,o,n,u,l].filter(h=>h.featureSet.features.length>0);for(const h of g){const b=h.featureSet.features.every(P=>P.symbol);!b||t&&t.forceFeatureAttributes||h.featureSet.features.forEach(P=>{delete P.attributes}),b&&delete h.layerDefinition.drawingInfo,h.layerDefinition.drawingInfo&&h.layerDefinition.drawingInfo.renderer&&await Ee(h.layerDefinition.drawingInfo.renderer,r)}return g.length?{featureCollection:{layers:g},showLabels:a}:null}async function Et(e,i,t){var f,v,c,g,w,x;let r;const a=e.renderer,s=parseFloat(t.cimVersion);if(((f=e.featureReduction)==null?void 0:f.type)==="binning"||((v=e.featureReduction)==null?void 0:v.type)==="cluster"&&(!t.is11xService||s<2.9)||(a==null?void 0:a.type)==="pie-chart"||(a==null?void 0:a.type)==="dot-density"&&(!t.is11xService||s<2.6))return k(e,i,t);e.legendEnabled&&t.legendLayers.push({id:e.id});const o=i.layerView,{printTemplate:u,view:n}=i,l=a&&("valueExpression"in a&&a.valueExpression||"hasVisualVariables"in a&&a.hasVisualVariables()),y=((c=e.source)==null?void 0:c.type)!=="feature-layer"&&((g=e.source)==null?void 0:g.type)!=="ogc-feature";if(!t.is11xService&&l||o.filter||y||!a||"field"in a&&a.field!=null&&(typeof a.field!="string"||!e.getField(a.field))){const h=await re(o);r=await G(e,h,u,t)}else{if(r={id:(d=e.write()).id,title:d.title,opacity:d.opacity,minScale:d.minScale,maxScale:d.maxScale,url:d.url,layerType:d.layerType,customParameters:d.customParameters,layerDefinition:d.layerDefinition},r.showLabels=u.showLabels&&e.labelsVisible,W(r,e),((x=(w=r.layerDefinition)==null?void 0:w.drawingInfo)==null?void 0:x.renderer)&&(delete r.layerDefinition.minScale,delete r.layerDefinition.maxScale,await Ee(r.layerDefinition.drawingInfo.renderer,t),"visualVariables"in a&&a.visualVariables&&a.visualVariables[0])){const b=a.visualVariables[0];if(b.type==="size"&&b.maxSize&&typeof b.maxSize!="number"&&b.minSize&&typeof b.minSize!="number"){const P=We(b,n.scale);r.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=P.minSize,r.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=P.maxSize}}const h=at(o);h&&(r.layerDefinition||(r.layerDefinition={}),r.layerDefinition.definitionExpression=r.layerDefinition.definitionExpression?`(${r.layerDefinition.definitionExpression}) AND (${h})`:h)}var d;return r}async function jt(e,i,t){var r,a;return((r=e.featureReduction)==null?void 0:r.type)==="binning"||((a=e.featureReduction)==null?void 0:a.type)==="cluster"?k(e,i,t):(e.legendEnabled&&t.legendLayers.push({id:e.id}),G(e,await re(i.layerView),i.printTemplate,t))}async function Nt(e,{printTemplate:i},t){return G(e,null,i,t)}function Rt(e,i){e.legendEnabled&&i.legendLayers.push({id:e.id});const t={layerType:(r=e.write()).layerType,customParameters:r.customParameters};var r;if(t.bandIds=e.bandIds,t.compressionQuality=e.compressionQuality,t.format=e.format,t.interpolation=e.interpolation,(e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(i.is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{const a=e.exportImageServiceParameters.combineRendererWithRenderingRule();a&&(t.renderingRule=a.toJSON())}return W(t,e),t}async function Jt(e,i,t){var s;if(((s=e.renderer)==null?void 0:s.type)==="flow")return k(e,i,t);e.legendEnabled&&t.legendLayers.push({id:e.id});const r={bandIds:(a=e.write()||{}).bandIds,customParameters:a.customParameters,interpolation:a.interpolation,layerDefinition:a.layerDefinition};var a;return r.layerType="ArcGISImageServiceLayer",W(r,e),r}async function Ft(e,i,t){const r=i.printTemplate;if(t.is11xService){const a={type:"kml"};return e.write(a,{origin:"web-map"}),delete a.layerType,a.url=B(e.url),a}{const a=[],s=i.layerView;s.allVisibleMapImages.forEach((n,l)=>{const y={id:`${e.id}_image${l}`,type:"image",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:n.extent};n.href.substr(0,22)==="data:image/png;base64,"?y.imageData=n.href.substr(22):y.url=n.href,a.push(y)});const o=[...s.allVisiblePoints.items,...s.allVisiblePolylines.items,...s.allVisiblePolygons.items],u={id:e.id,...await G(null,o,r,t)};return a.push(u),a}}function _t(e,{view:i},t){let r;const a={id:e.id,subLayerIds:[]};let s=[];const o=i.scale,u=l=>{const y=o===0,d=l.minScale===0||o<=l.minScale,f=l.maxScale===0||o>=l.maxScale;if(l.visible&&(y||d&&f))if(l.sublayers)l.sublayers.forEach(u);else{const v=l.toExportImageJSON(),c={id:l.id,name:l.title,layerDefinition:{drawingInfo:v.drawingInfo,definitionExpression:v.definitionExpression,source:v.source}};s.unshift(c),a.subLayerIds.push(l.id)}};var n;return e.sublayers&&e.sublayers.forEach(u),s.length&&(s=s.map(({id:l,name:y,layerDefinition:d})=>({id:l,name:y,layerDefinition:d})),r={layerType:(n=e.write()).layerType,customParameters:n.customParameters},r.layers=s,r.visibleLayers=e.capabilities.exportMap.supportsDynamicLayers?void 0:a.subLayerIds,W(r,e),e.legendEnabled&&t.legendLayers.push(a)),r}async function Ct({layerView:e,printTemplate:i},t){const r=[],a=e.layer;if(z(a.featureCollections))for(const s of a.featureCollections){const o=await G(s,s.source,i,t);o&&r.push(...o.featureCollection.layers)}else if(z(a.sublayers))for(const s of a.sublayers){const o=await G(null,s.graphics,i,t);o&&r.push(...o.featureCollection.layers)}return{featureCollection:{layers:r}}}function kt(){return{type:"OpenStreetMap"}}async function k(e,{printTemplate:i,view:t},r){const a={type:"image"},s={format:"png",ignoreBackground:!0,layers:[e],rotation:0},o=r.ssExtent||t.extent.clone();let u=96,n=!0,l=!0;if(i.exportOptions){const f=i.exportOptions;f.dpi>0&&(u=f.dpi),f.width>0&&(n=f.width%2==t.width%2),f.height>0&&(l=f.height%2==t.height%2)}if(i.layout==="map-only"&&i.scalePreserved&&(!i.outScale||i.outScale===t.scale)&&u===96&&(!n||!l)&&(s.area={x:0,y:0,width:t.width,height:t.height},n||(s.area.width-=1),l||(s.area.height-=1),!r.ssExtent)){const f=t.toMap(Ke(s.area.width,s.area.height));o.ymin=f.y,o.xmax=f.x,r.ssExtent=o}a.extent=o.clone()._normalize(!0).toJSON();const y=await t.takeScreenshot(s),{data:d}=Ze(y.dataUrl);return a.imageData=d,a}async function Ut(e,{layerView:i,printTemplate:t},r){return e.legendEnabled&&r.legendLayers.push({id:e.id}),G(e,await re(i),t,r)}function At(e,i){e.legendEnabled&&i.legendLayers.push({id:e.id});const t={layerType:(r=e.write()).layerType,customParameters:r.customParameters};var r;return W(t,e),t}async function qt(e,i,t){if(t.is11xService&&e.serviceUrl&&e.styleUrl){const r=se(e.styleUrl,e.apiKey),a=se(e.serviceUrl,e.apiKey);if(!r&&!a||t.cimVersion!=="2.1.0"){const s={type:"VectorTileLayer"};return s.styleUrl=B(e.styleUrl),s.token=r,a!==r&&(s.additionalTokens=[{url:e.serviceUrl,token:a}]),s}}return k(e,i,t)}function zt(e){const i={type:"WebTiledLayer",urlTemplate:e.urlTemplate.replace(/\${/g,"{"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(i.subDomains=e.subDomains),i}function Bt(e){let i;const t=[],r=a=>{a.visible&&(a.sublayers?a.sublayers.forEach(r):a.name&&t.unshift(a.name))};return e.sublayers&&e.sublayers.forEach(r),t.length&&(i={type:"wms",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:t,url:B(e.url),version:e.version}),i}function Wt(e){const i=e.activeLayer;return{type:"wmts",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:i.imageFormat,layer:i.id,style:i.styleId,tileMatrixSet:i.tileMatrixSetId,url:B(e.url)}}function W(e,i){i.url&&(e.url=B(e.url||i.url),e.token=se(e.url,i.apiKey))}async function Y(e,i){var o;i.canvas||(i.canvas=document.createElement("canvas"));const t=1024;i.canvas.width=t,i.canvas.height=t;const r=i.canvas.getContext("2d");let a,s;if(e.path){const u=new Path2D(e.path);u.closePath(),r.fillStyle=Array.isArray(e.color)?`rgba(${e.color[0]},${e.color[1]},${e.color[2]},${e.color[3]/255})`:"rgb(0,0,0)",r.fill(u);const n=vt(r);if(!n)return null;r.clearRect(0,0,t,t);const l=K(e.size)/Math.max(n.width,n.height);r.scale(l,l);const y=t/l,d=y/2-n.width/2-n.x,f=y/2-n.height/2-n.y;if(r.translate(d,f),Array.isArray(e.color)&&r.fill(u),((o=e.outline)==null?void 0:o.width)&&Array.isArray(e.outline.color)){const c=e.outline;r.lineWidth=K(c.width)/l,r.lineJoin="round",r.strokeStyle=`rgba(${c.color[0]},${c.color[1]},${c.color[2]},${c.color[3]/255})`,r.stroke(u),n.width+=r.lineWidth,n.height+=r.lineWidth}n.width*=l,n.height*=l;const v=r.getImageData(t/2-n.width/2,t/2-n.height/2,Math.ceil(n.width),Math.ceil(n.height));a=v.width,s=v.height,r.canvas.width=a,r.canvas.height=s,r.putImageData(v,0,0)}else{const u=e.contentType==="image/svg+xml"?"data:image/svg+xml;base64,"+e.imageData:e.url,n=(await j(u,{responseType:"image"})).data;a=K(e.width),s=K(e.height),r.canvas.width=a,r.canvas.height=s,r.drawImage(n,0,0,r.canvas.width,r.canvas.height)}return{type:"esriPMS",imageData:r.canvas.toDataURL("image/png").substr(22),angle:e.angle,contentType:"image/png",height:N(s),width:N(a),xoffset:e.xoffset,yoffset:e.yoffset}}async function Ee(e,i){const t=e.type;if(t==="simple"&&H(e.symbol))e.symbol=await Y(e.symbol,i);else if(t==="uniqueValue"||t==="classBreaks"){H(e.defaultSymbol)&&(e.defaultSymbol=await Y(e.defaultSymbol,i));const r=e[t==="uniqueValue"?"uniqueValueInfos":"classBreakInfos"];if(r)for(const a of r)H(a.symbol)&&(a.symbol=await Y(a.symbol,i))}}async function re(e){return e.queryFeatures(e.createQuery()).then(i=>i.features)}function Kt(e){return e.gpMetadata&&e.gpMetadata.executionType?Dt.fromJSON(e.gpMetadata.executionType):"sync"}function H(e){return e&&(e.path||e.contentType==="image/svg+xml"||e.url&&e.url.endsWith(".svg"))}let $=class extends Ie{constructor(e){super(e),this.extent=null,this.extraParameters=null,this.outSpatialReference=null,this.template=null,this.updateDelay=1e3,this.view=null}};p([m()],$.prototype,"extent",void 0),p([m()],$.prototype,"extraParameters",void 0),p([m()],$.prototype,"outSpatialReference",void 0),p([m()],$.prototype,"template",void 0),p([m()],$.prototype,"updateDelay",void 0),p([m()],$.prototype,"view",void 0),$=p([O("esri.rest.support.PrintParameters")],$);const Zt=$;let E=class extends R{constructor(e){super(e),this.description=null,this.format=null,this.label=null,this.layout=null,this.layoutOptions=null}};p([m()],E.prototype,"description",void 0),p([m({json:{read:le}})],E.prototype,"format",void 0),p([m()],E.prototype,"label",void 0),p([m({json:{read:Q}})],E.prototype,"layout",void 0),p([m()],E.prototype,"layoutOptions",void 0),E=p([O("esri.widgets.Print.CustomTemplate")],E);const je=E,Qt=6e4,Ne=Qe.ofType(je);function Yt(e){e.layoutOptions||(e.layoutOptions={}),e.layoutOptions.customTextElements||(e.layoutOptions.customTextElements=[]);const i="date";if(!e.layoutOptions.customTextElements.find(t=>i in t)){const{customTextElements:t}=e.layoutOptions;let r=Xe(Date.now(),et("short-date"));tt()==="ar"&&(r="\u200F"+r),t.push({date:r})}}let S=class extends Ye{constructor(e){super(e),this.allowedFormats="all",this.allowedLayouts="all",this.defaultTemplates=new Ne,this.extraParameters=null,this.includeDefaultTemplates=!0,this.error=null,this.portal=Le.getDefault(),this.printServiceUrl=null,this.templatesInfo=null,this.updateDelay=1e3,this.view=null,this.templateCustomTextElements=null,this.print=this.print.bind(this)}destroy(){this.view=null}get effectivePrintServiceUrl(){var e;return(e=this.printServiceUrl)!=null?e:null}get effectiveTemplateCustomTextElements(){if(!this._serviceTemplateCustomTextElements)return{};const e=He(this._serviceTemplateCustomTextElements);return this.templateCustomTextElements&&Object.keys(this.templateCustomTextElements).forEach(i=>{const t=e[i];if(t){const r=this.templateCustomTextElements[i];t.forEach(a=>{const[s]=Object.entries(a)[0];r.find(o=>{const[u,n]=Object.entries(o)[0];s===u&&(a[s]=n)})})}}),Object.freeze(e)}get state(){return this.loadStatus==="loading"?"initializing":this.error||this.loadStatus==="failed"?"error":this.get("view.ready")&&this.loadStatus==="loaded"?"ready":"disabled"}async load(e){return this.addResolvingPromise(this._loadResources(e).catch(i=>this.error=i)),this}async print(e){const{view:i,extraParameters:t,updateDelay:r}=this;if(!i)throw new _("print:view-required","view is not set");Yt(e);const a=new Zt({view:i,template:e,extraParameters:t,updateDelay:r});try{return await It(this.effectivePrintServiceUrl,a)}catch(s){throw new _("print:export-error","An error occurred while exporting the web map.",{error:s})}}toPrintTemplate({attributionEnabled:e,author:i,copyright:t,customTextElements:r,dpi:a,forceFeatureAttributes:s,format:o,height:u,layout:n,legendEnabled:l,northArrowEnabled:y,scale:d,scaleEnabled:f,title:v,width:c}){const g=new $e({attributionVisible:e,forceFeatureAttributes:s,format:o,layout:n,layoutOptions:{authorText:i||"",copyrightText:t||"",customTextElements:r,titleText:v||""},outScale:d,scalePreserved:f});c&&(g.exportOptions.width=c),u&&(g.exportOptions.height=u),a&&(g.exportOptions.dpi=a),l||(g.layoutOptions.legendLayers=[]);const w=this.templateToNorthArrowInfo[n];return w&&(w.visible===y||(g.layoutOptions.elementOverrides={[w.name]:{visible:y}})),g}async _loadResources(e){var r,a;let i=[];const{printServiceUrl:t}=this;if(!t){if(this.destroyed)return;const{portal:s}=this;try{await s.load(e)}catch{throw new _("print:could-not-load-portal","Cannot load print resource information from portal",{url:this.effectivePrintServiceUrl})}const o=(r=s.helperServices)==null?void 0:r.printTask;o&&(this._set("effectivePrintServiceUrl",o.url),i=((a=o==null?void 0:o.templates)!=null?a:[]).map(u=>je.fromJSON(u)))}if(i.length>0&&this.defaultTemplates.addMany(i),this.effectivePrintServiceUrl.toLowerCase().split("/").indexOf("gpserver")===-1)throw new _("print:invalid-print-service-url","Can't fetch print templates information from provided URL",{url:this.effectivePrintServiceUrl});this._processLayoutTemplateInfos(await this._getLayoutTemplatesInfo(e)),await this._loadServiceDescription(e)}async _loadServiceDescription(e){const i=await this._getPrintTemplatesFromService(e);this._set("templatesInfo",i)}async _getLayoutTemplatesInfo(e){let i=[];const t=async r=>{const a=this.effectivePrintServiceUrl.replace(/(\/GPServer\/).+/i,`$1${encodeURI(r)}`);return(await Ve(a,null,null,rt(e))).results[0].value};try{i=await t("Get Layout Templates Info Task")}catch{}if(!i||i.length<1)try{i=await t("Get Layout Templates Info")}catch{}return i}_processLayoutTemplateInfos(e){const i={},t={};e.forEach(({layoutTemplate:r,layoutOptions:{customTextElements:a,mapSurroundInfos:s}})=>{const o=Q(r);i[o]=a,s&&(t[o]=s.find(u=>u.type==="CIMMarkerNorthArrow"))}),this.templateCustomTextElements=Object.freeze(i),this.templateToNorthArrowInfo=t}async _getPrintTemplatesFromService(e){return j(this.effectivePrintServiceUrl,{...e,query:{f:"json"},timeout:Qt}).then(i=>{const t=i&&i.data,r=t&&t.parameters;let a=null,s=null;return r.forEach(o=>{let u,n=o.choiceList&&o.choiceList.slice();n&&n.length&&o.defaultValue&&(u=n.indexOf(o.defaultValue)),u>-1&&(n.splice(u,1),n.unshift(o.defaultValue));const l=(y,d)=>{const f=d==="all"?y:y.filter(v=>d.includes(v));return f.length===0?y:f};if(o.name==="Format"){const y=l(n.map(le),this.allowedFormats),d=le(o.defaultValue);a={defaultValue:y.includes(d)?d:y[0],choiceList:y}}else if(o.name==="Layout_Template"){let y,d;n=n.filter(c=>c.toLowerCase()!=="map_only"),n.some((c,g)=>{const w=c.toLowerCase();return w.includes("letter")&&w.includes("landscape")?(y=g,!0):!(!w.includes("a4")||!w.includes("landscape"))&&(y=g,!1)}),y&&(d=n[y],n.splice(y,1),n.unshift(d));const f=l(n.map(Q),this.allowedLayouts),v=Q(o.defaultValue);s={defaultValue:f.includes(v)?v:f[0],choiceList:f}}}),this.error=null,{format:a,layout:s}}).catch(i=>{throw new _("print:unavailable-service-info","Can't fetch templates info from service",{error:i})})}};p([m()],S.prototype,"_serviceTemplateCustomTextElements",void 0),p([m()],S.prototype,"allowedFormats",void 0),p([m()],S.prototype,"allowedLayouts",void 0),p([m({type:Ne})],S.prototype,"defaultTemplates",void 0),p([m()],S.prototype,"extraParameters",void 0),p([m()],S.prototype,"includeDefaultTemplates",void 0),p([m({readOnly:!0})],S.prototype,"effectivePrintServiceUrl",null),p([m()],S.prototype,"effectiveTemplateCustomTextElements",null),p([m()],S.prototype,"error",void 0),p([m({type:Le})],S.prototype,"portal",void 0),p([m()],S.prototype,"printServiceUrl",void 0),p([m({readOnly:!0})],S.prototype,"state",null),p([m({readOnly:!0})],S.prototype,"templatesInfo",void 0),p([m()],S.prototype,"updateDelay",void 0),p([m()],S.prototype,"view",void 0),p([m()],S.prototype,"templateCustomTextElements",void 0),p([m()],S.prototype,"templateToNorthArrowInfo",void 0),S=p([O("esri.widgets.Print.PrintViewModel")],S);const rr=S;export{rr as default};
