import{af as u}from"./index.3224a022.js";async function f(r,e){var t,y,i;let a=await o(r,e);a=a||{},a.layers=((t=a.layers)==null?void 0:t.filter(l))||[];const n={serviceJSON:a};if(((y=a.currentVersion)!=null?y:0)<10.5)return n;const s=await o(r+"/layers",e);return n.layersJSON={layers:((i=s==null?void 0:s.layers)==null?void 0:i.filter(l))||[],tables:(s==null?void 0:s.tables)||[]},n}function l(r){return!r.type||r.type==="Feature Layer"}async function o(r,e){return(await u(r,{responseType:"json",query:{f:"json",...e==null?void 0:e.customParameters,token:e==null?void 0:e.apiKey}})).data}export{o as a,f as r};
