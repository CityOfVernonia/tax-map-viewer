import{aA as m,e as r,y as i,aB as c,r as f,n as d,ab as y,a4 as g,aC as v,s as x,c as R,aa as P,aD as b,ax as h,aq as D,h as O}from"./index.3224a022.js";import{a as U,n as N}from"./project.4c40b375.js";new m({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"});new m({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});let u=class extends g{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};r([i({type:String,json:{write:!0}})],u.prototype,"deviationUnit",void 0),r([i({json:{read:{reader:e=>e?e.map(t=>c(t)).filter(f):null},write:{writer:(e,t)=>{var o;t.geometries=(o=e==null?void 0:e.map(n=>n.toJSON()))!=null?o:null}}}})],u.prototype,"geometries",void 0),r([i({type:Number,json:{write:!0}})],u.prototype,"maxDeviation",void 0),u=r([d("esri.rest.support.GeneralizeParameters")],u),u.from=y(u);new m({preserveShape:"preserve-shape"});let l=class extends g{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};r([i({type:String,json:{write:!0}})],l.prototype,"calculationType",void 0),r([i({type:Boolean,json:{write:!0}})],l.prototype,"geodesic",void 0),r([i({json:{write:!0}})],l.prototype,"lengthUnit",void 0),r([i({type:[v],json:{read:{reader:e=>e?e.map(t=>c(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(o=>o.toJSON())}}}})],l.prototype,"polylines",void 0),l=r([d("esri.rest.support.LengthsParameters")],l),l.from=y(l);new m({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"});new m({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});let s=class extends g{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};r([i({type:Number,json:{write:!0}})],s.prototype,"bevelRatio",void 0),r([i({json:{read:{reader:e=>e?e.map(t=>c(t)).filter(f):null},write:{writer:(e,t)=>{var o;t.geometries=(o=e==null?void 0:e.map(n=>n.toJSON()))!=null?o:null}}}})],s.prototype,"geometries",void 0),r([i({type:Number,json:{write:!0}})],s.prototype,"offsetDistance",void 0),r([i({type:String,json:{write:!0}})],s.prototype,"offsetHow",void 0),r([i({type:String,json:{write:!0}})],s.prototype,"offsetUnit",void 0),s=r([d("esri.rest.support.OffsetParameters")],s),s.from=y(s);new m({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});let a=class extends g{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};r([i({json:{read:{reader:e=>e?e.map(t=>c(t)).filter(f):null},write:{writer:(e,t)=>{var o;t.geometries1=(o=e==null?void 0:e.map(n=>n.toJSON()))!=null?o:null}}}})],a.prototype,"geometries1",void 0),r([i({json:{read:{reader:e=>e?e.map(t=>c(t)).filter(f):null},write:{writer:(e,t)=>{var o;t.geometries2=(o=e==null?void 0:e.map(n=>n.toJSON()))!=null?o:null}}}})],a.prototype,"geometries2",void 0),r([i({type:String,json:{write:!0}})],a.prototype,"relation",void 0),r([i({type:String,json:{write:!0}})],a.prototype,"relationParameter",void 0),a=r([d("esri.rest.support.RelationParameters")],a),a.from=y(a);new m({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});let p=class extends g{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};r([i({type:String,json:{write:!0}})],p.prototype,"extendHow",void 0),r([i({type:[v],json:{read:{reader:e=>e?e.map(t=>c(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(o=>o.toJSON())}}}})],p.prototype,"polylines",void 0),r([i({json:{read:{reader:e=>e?c(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],p.prototype,"trimExtendTo",void 0),p=r([d("esri.rest.support.TrimExtendParameters")],p),p.from=y(p);const S=x.getLogger("esri.widgets.support.geolocationUtils"),T={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function $(){const e=O("esri-geolocation");return e||S.warn("geolocation-unsupported","Geolocation unsupported."),e}function J(){const e=window.isSecureContext;return e||S.warn("insecure-context","Geolocation requires a secure origin."),e}function E(){return $()&&J()}function I(e){return e||(e=T),new Promise((o,n)=>{setTimeout(()=>n(new R("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(o,n,e)})}function B(e,t){const{position:o,view:n}=e;return C(M(A(o)),n,t)}function A(e){const t=e&&e.coords||{},o={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:o,timestamp:e.timestamp}}function M(e){const t=e&&e.coords;return t?new P({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function C(e,t,o){if(!t)return Promise.resolve(e);const n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve(b(e)):H(o).then(w=>{if(!w)throw new R("geometry-service:missing-url","Geometry service URL is missing");const G=new U({geometries:[e],outSpatialReference:n});return N(w,G,o).then(j=>j[0])})}function H(e){if(h.geometryServiceUrl)return Promise.resolve(h.geometryServiceUrl);const t=D.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}export{I as g,B as j,E as l};
