import{w as m,r as h,a5 as p}from"./index.3224a022.js";function u(e,n){return n?"xoffset"in n&&n.xoffset?Math.max(e,Math.abs(n.xoffset)):"yoffset"in n&&n.yoffset?Math.max(e,Math.abs(n.yoffset||0)):e:e}function b(e){let n=0,t=0;for(let r=0;r<e.length;r++){const s=e[r].size;typeof s=="number"&&(n+=s,t++)}return n/t}function c(e,n){return typeof e=="number"?e:e&&e.stops&&e.stops.length?b(e.stops):n}function M(e,n){if(!n)return e;const t=n.filter(a=>a.type==="size").map(a=>{const{maxSize:f,minSize:o}=a;return(c(f,e)+c(o,e))/2});let r=0;const s=t.length;if(s===0)return e;for(let a=0;a<s;a++)r+=t[a];const i=Math.floor(r/s);return Math.max(i,e)}function d(e){var s;const n=e&&e.renderer,t=(e&&e.event&&e.event.pointerType)==="touch"?9:6;if(!n)return t;const r="visualVariables"in n?M(t,n.visualVariables):t;if(n.type==="simple")return u(r,n.symbol);if(n.type==="unique-value"){let i=r;return(s=n.uniqueValueInfos)==null||s.forEach(a=>{i=u(i,a.symbol)}),i}if(n.type==="class-breaks"){let i=r;return n.classBreakInfos.forEach(a=>{i=u(i,a.symbol)}),i}return n.type==="dot-density"||n.type,r}function z(e,n,t,r=new m){let s;if(t.type==="2d")s=n*t.resolution;else if(t.type==="3d"){const x=t.overlayPixelSizeInMapUnits(e),l=t.basemapSpatialReference;s=h(l)&&!l.equals(t.spatialReference)?p(l)/p(t.spatialReference):n*x}const i=e.x-s,a=e.y-s,f=e.x+s,o=e.y+s,{spatialReference:y}=t;return r.xmin=Math.min(i,f),r.ymin=Math.min(a,o),r.xmax=Math.max(i,f),r.ymax=Math.max(a,o),r.spatialReference=y,r}new m;export{z as a,d as s};
